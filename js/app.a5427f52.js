(function(e){function t(t){for(var n,r,c=t[0],i=t[1],h=t[2],l=0,d=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,h||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,r=1;r<a.length;r++){var i=a[r];0!==s[i]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},s={app:0},o=[];function r(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-0284c2e9":"ce950bd1","chunk-f1516bda":"0ca79ffc","chunk-04e53fe9":"50c1d1e4","chunk-05b6143b":"96b84b32","chunk-c10b4170":"daaacba7","chunk-4c9a6ca6":"e3605b0d","chunk-2d0dace6":"80db9eda","chunk-2d0e62e7":"762a46e2","chunk-2d237116":"95c71aa0","chunk-145178c0":"79ad9632","chunk-1a3fb22c":"4ceee33b","chunk-1a64e58c":"adbecc09","chunk-1a6b895e":"a4112994","chunk-21440acd":"e3966642","chunk-2d0a2dc5":"05be8b98","chunk-2d0a3344":"43c5b72d","chunk-2d0a4c1e":"1a6c1fa2","chunk-2d0abe0e":"134a3ed7","chunk-2d0aead6":"8ca642f3","chunk-2d0af486":"c4ccaf08","chunk-2d0b32f8":"81d48cbc","chunk-2d0b6d34":"92241c9b","chunk-2d0b726e":"7931c040","chunk-2d0bcda5":"09104b17","chunk-2d0bdcef":"70ece633","chunk-2d0bdf78":"e47ba2cb","chunk-2d0c0894":"e32adbcd","chunk-2d0c119c":"49899a4c","chunk-2d0c1555":"28b11808","chunk-2d0c1948":"28d34e70","chunk-2d0c5abf":"a8794a58","chunk-2d0c7ed4":"98800bfa","chunk-2d0c86de":"5f7b122a","chunk-2d0c970e":"f0666c92","chunk-2d0cbd02":"71f7ef35","chunk-2d0ced22":"21bec062","chunk-2d0cf344":"02a0b5f2","chunk-2d0cffe8":"a2fef528","chunk-2d0d03a7":"83a00c1c","chunk-3ebd8ffe":"b9e398e5","chunk-2aa37c79":"8d3aa046","chunk-5754631f":"45c635b6","chunk-65b6799c":"efbff417","chunk-8504d1dc":"f6c19d0c","chunk-8e23cc50":"fd96073a","chunk-8eee73b2":"833bbe08","chunk-2d0d03e5":"8f51b8fa","chunk-2d0d30d0":"dc12878b","chunk-2d0d6f6b":"e2f6791c","chunk-2d0d7e56":"e0e23306","chunk-2d0d7fd9":"40f2784f","chunk-2d0dd452":"2fedd990","chunk-2d0e48cf":"0daf7674","chunk-2d0e5bc0":"9cc22bca","chunk-2d0e925e":"278c9d8e","chunk-2d207ac9":"95824485","chunk-2d2080c7":"65139389","chunk-2d20828d":"1624b0a4","chunk-2d20ff55":"32c6de2e","chunk-2d210440":"37e19afd","chunk-2d210f99":"7899b926","chunk-2d218057":"aad7f51c","chunk-2d21b2d9":"a8f60b04","chunk-2d21e41f":"38af4612","chunk-2d221c62":"3d757eab","chunk-2d222546":"ef60519c","chunk-2d225296":"5df76448","chunk-2d225664":"72e77c88","chunk-2d22611c":"946a87e4","chunk-2d2297bc":"3674d13a","chunk-2d22a1b6":"e6d7f0b3","chunk-2d22c0b7":"03678b35","chunk-2d22ce36":"d75fb05f","chunk-2d22cf8c":"993b2113","chunk-252da140":"aee78311","chunk-2d22d3a8":"c65ed88a","chunk-2d22e157":"228fe27b","chunk-2d231045":"3bc2f42c","chunk-2d2311e8":"96edb824","chunk-2d261253":"989028ab","chunk-2e753f70":"e76e8282","chunk-58dfbd3c":"a43c6b12","chunk-a1580416":"e9ed92e0","chunk-490f651e":"30f2ced3","chunk-4e7277d5":"7f6d0157","chunk-24fad822":"5287f85a","chunk-1b15e1dd":"95230f0f","chunk-5994f67a":"78b28838","chunk-5a4b89dc":"bf28eb3e","chunk-698f74d5":"a302bb1b","chunk-b690de32":"89e3709f","chunk-2fe23362":"961da85d","chunk-44de7c73":"7c07d030","chunk-4527f0ef":"1ad4e59e","chunk-672aa13e":"468f3d80","chunk-73523bac":"9fa5effa","chunk-91c39d5a":"8b1e7923","chunk-d830dbd6":"4d83d4d5","chunk-e726463c":"342e2166","chunk-fb3a1ed0":"e498dda8","chunk-ea5dff4c":"10718454","chunk-70c316c0":"5b43c660","chunk-59f29c8d":"b296058f","chunk-66bef568":"1cb364d1","chunk-67abbdac":"6daf08f4","chunk-71d2f73e":"0d42cca9","chunk-7499dfb6":"e006f78f","chunk-771a1f22":"1671173f","chunk-771be51c":"8b003eb4","chunk-8ee3b352":"797810e4","chunk-bd597f0c":"029e674b","chunk-310f07ff":"80fcfe78","chunk-df664df4":"e65606c7","chunk-e40fb29e":"82c34c31","chunk-6b979686":"48c6b419","chunk-7503b3e1":"0e28ac04","chunk-65779b0d":"a8c82425","chunk-f9539be0":"27f4f66e","chunk-4cc0e1bf":"6ad11832","chunk-d359ad46":"1a174eef","chunk-0a492f92":"5bd6d871","chunk-180660b2":"1a3b5f29","chunk-08a2b3cf":"84ab4712","chunk-196bbbbc":"bb47af52","chunk-2d222178":"c6761df7","chunk-08c0b61e":"2667f8bf","chunk-1e759e79":"464307f7","chunk-2d237932":"e6078be8","chunk-6bbbfd2f":"35b965a6","chunk-06ad9dad":"1f1cc7b0","chunk-161078e6":"01d1a874","chunk-1b772a95":"4d26ea99","chunk-2671d02c":"97e1e5a4","chunk-2d0a33b6":"49bdedbb","chunk-2d0a4f14":"763b6274","chunk-2d0ac5dd":"1bc37f6b","chunk-2d0b2cd5":"962aaf1d","chunk-2d0bceb2":"aaea131c","chunk-2d0c8892":"1df7f739","chunk-2d209b4c":"e4ebbfa2","chunk-2d20f003":"bff606d6","chunk-2d21a92d":"04613fc1","chunk-2dcc590e":"3faa6a08","chunk-435aa026":"0bd0f291","chunk-5084825c":"80aa5899","chunk-55a2b5c0":"b23f60e0","chunk-5b5540ce":"ab7f62a9","chunk-6b3eda79":"15670ac7","chunk-6ef9b55d":"4b170cf1","chunk-88f92b30":"317ed8de","chunk-d049b2b0":"15d7b525","chunk-2d23775c":"eebea252","chunk-2d2290bf":"c17b8210","chunk-d54cf23a":"14971bf1","chunk-2d0c191a":"7e528336","chunk-2d207f46":"516cb64f","chunk-045d740e":"c3e83fa5","chunk-2d0c8483":"a30e1662","chunk-2d0a514a":"d28b020f","chunk-a1620918":"d0b4fea8","chunk-2d0c8f9b":"450ebfe4","chunk-57e02c98":"7b35fb6d","chunk-2d0a4b23":"ac62642e","chunk-1900908c":"92d35d6a","chunk-f8df2c5c":"8262efba","chunk-2d0ab897":"d84d477f","chunk-2d0cb6c5":"e9c6ea72","chunk-5ba1e7e0":"fa744b23","chunk-2d209409":"6e00d82b","chunk-2d0c7903":"02a43107"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a=s[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise((function(t,n){a=s[e]=[t,n]}));t.push(a[2]=n);var o,i=document.createElement("script");i.charset="utf-8",i.timeout=120,c.nc&&i.setAttribute("nonce",c.nc),i.src=r(e);var h=new Error;o=function(t){i.onerror=i.onload=null,clearTimeout(l);var a=s[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;h.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",h.name="ChunkLoadError",h.type=n,h.request=o,a[1](h)}s[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:i})}),12e4);i.onerror=i.onload=o,document.head.appendChild(i)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/BHMTNLION/",c.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],h=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=h;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"3d7b":function(e,t,a){"use strict";a("b9c5")},"56d7":function(e,t,a){"use strict";a.r(t);a("e623"),a("e379"),a("5dc8"),a("37e1");var n=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("v-app",[a("v-app-bar",{attrs:{app:"",dense:"",absolute:"","shrink-on-scroll":"",color:"blue",height:"50px"}},[a("v-toolbar-title",{staticClass:"pt-0",staticStyle:{position:"absolute",top:"5px"}},[e._v(" Black Hills Mountain Lion Scouting Tool ")]),a("v-spacer")],1),a("v-main",[a("Map")],1)],1)],1)},o=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Map Filters")]),a("v-spacer"),a("v-btn",{on:{click:function(t){e.expand=!e.expand}}},[e._v(e._s(e.btnname))])],1),e.expand?a("v-card-text",[a("v-switch",{attrs:{dense:"",label:"GFP"},model:{value:e.showGfp,callback:function(t){e.showGfp=t},expression:"showGfp"}}),a("v-row",[a("v-col",[a("v-switch",{attrs:{dense:"",label:"Snow Depth"},model:{value:e.showSnowDepth,callback:function(t){e.showSnowDepth=t},expression:"showSnowDepth"}})],1),a("v-col",[a("v-btn",{on:{click:function(t){e.showImage=!e.showImage}}},[e._v("Snow Depth Chart")]),e.showImage?a("div",[a("img",{attrs:{src:"Legend.png",alt:"Snow Depth Map"}})]):e._e()],1)],1),a("v-row",[a("v-col",[a("v-switch",{attrs:{dense:"",label:"Cached Snow Depth"},model:{value:e.showCachedSnowDepth,callback:function(t){e.showCachedSnowDepth=t},expression:"showCachedSnowDepth"}})],1),a("v-col",[e._v(" "+e._s(e.snowDepthDate)+" ")])],1),a("v-row",[a("v-col",[a("v-switch",{attrs:{dense:"",label:"Road Map"},model:{value:e.showNfsmvum,callback:function(t){e.showNfsmvum=t},expression:"showNfsmvum"}})],1),a("v-col",{staticClass:"pt-4 mt-4"},[a("input",{attrs:{type:"date",id:"date-picker",disabled:!e.showNfsmvum}})]),a("v-col")],1),a("v-row",[a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-switch",{attrs:{dense:"",label:"Harvest Locations"},model:{value:e.showHarvestLocations,callback:function(t){e.showHarvestLocations=t},expression:"showHarvestLocations"}})],1),a("v-col",{attrs:{cols:"6",sm:"4"}},[e.showHarvestLocations?a("v-switch",{attrs:{label:"Heatmap"},model:{value:e.showHeatmap,callback:function(t){e.showHeatmap=t},expression:"showHeatmap"}}):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[e.showHarvestLocations?a("v-autocomplete",{attrs:{items:e.years,multiple:!0,label:"Years"},model:{value:e.selectedYears,callback:function(t){e.selectedYears=t},expression:"selectedYears"}}):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-switch",{attrs:{label:"Mines"},model:{value:e.showMines,callback:function(t){e.showMines=t},expression:"showMines"}}),a("v-btn",{on:{click:e.exportToONX}},[e._v("Export For Onx")]),e.showMines?a("div",[a("v-col",{attrs:{cols:"3"}},[a("div",{staticClass:"legend-dot",staticStyle:{"background-color":"orange"}})]),a("v-col",{attrs:{cols:"9"}},[e._v("Unknown")])],1):e._e(),e.showMines?a("div",[a("v-col",{attrs:{cols:"3"}},[a("div",{staticClass:"legend-dot",staticStyle:{"background-color":"green"}})]),a("v-col",{attrs:{cols:"9"}},[e._v("Open")])],1):e._e(),e.showMines?a("div",[a("v-col",{attrs:{cols:"3"}},[a("div",{staticClass:"legend-dot",staticStyle:{"background-color":"red"}})]),a("v-col",{attrs:{cols:"9"}},[e._v("Collapsed")])],1):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-switch",{attrs:{label:"Caves"},model:{value:e.showCaves,callback:function(t){e.showCaves=t},expression:"showCaves"}})],1)],1)],1):e._e()],1)],1)],1)],1),e.loading?a("v-progress-linear",{attrs:{indeterminate:""}}):e._e(),a("div",{staticStyle:{"align-content":"center",height:"80vh"},attrs:{id:"viewDiv",width:"100%"}})],1)},c=[],i=a("c7eb"),h=a("1da1"),l=(a("b64b"),a("d81d"),a("d3b7"),a("99af"),a("e9c4"),a("159b"),a("caad6"),a("2532"),a("14d9"),a("fb6a"),a("4de4"),a("4d90"),a("25f0"),a("ac1f"),a("00b4"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("88a7"),a("271a"),a("5494"),a("1325")),u=a("6d1b"),d=a("a611"),f=a("53f8"),p=a("ce0b"),b=a("8d60"),m=a("4ae5"),v=a("173c"),w=a("8ab7"),g=a("36bc"),k=a("cf3e"),S=a("42f6"),y=a("cdd2"),D=a("785c"),E=a("e626"),x=a.n(E),O={type:"simple-line",color:"blue",width:"1.5px",style:"solid"},C={type:"simple-line",color:"green",width:"2",style:"solid"},I={type:"simple-line",color:"red",width:"1.5px",style:"solid"},L={type:"simple-line",color:"#ef37ac",width:"1.5px",style:"solid"},N={components:{},name:"Map",props:{},data:function(){return{showImage:!1,expand:!localStorage.getItem("expand")||JSON.parse(localStorage.getItem("expand")),showMines:!0,showCaves:!0,map:null,view:null,nfsmvum:null,snowDepth:null,minesLayer:null,cavesLayer:null,graphicLayer:null,gfp:null,harvestLocations:null,showNfsmvum:!0,showSnowDepth:!0,showCachedSnowDepth:!0,showGfp:!0,showHarvestLocations:!0,vehicleTypes:["Car","ATV"],roadRender:{type:"unique-value",legendOptions:{title:"Road Type"},field:"SBS_SYMBOL_NAME",uniqueValueInfos:[{value:"Gravel Road, Suitable for Passenger Car",symbol:O,label:"Gravel Road"},{value:"Paved Road",symbol:C,label:"Paved Road"},{value:"Road, Not Maintained for Passenger Car",symbol:I,label:"Not Maintained"},{value:"Dirt Road, Suitable for Passenger Car",symbol:L,label:"Dirt Road"}]},showHeatmap:!1,loading:!1,valSelect:{},roadOpenings:[],atv:!1,car:!0,semi:!1,bus:!1,typeOfRoad:[],roadType:[{text:"Gravel Road",value:"Gravel Road, Suitable for Passenger Car",checked:!0},{text:"Paved Road",value:"Paved Road",checked:!0},{text:"Not Maintained for car",value:"Road, Not Maintained for Passenger Car",checked:!0},{text:"Dirt Road",value:"Dirt Road, Suitable for Passenger Car",checked:!0}],snowDepthDate:null,years:[2017,2016,2015,2014,2013,2012],selectedYears:[2017,2016,2015,2014,2013,2012],markerExtent:{xmin:-105.2229798227514,xmax:-101.16627816259711,ymin:42.929128673950856,ymax:45.20055201379351},imageUrl:"https://mapservices.weather.noaa.gov/raster/rest/services/snow/NOHRSC_Snow_Analysis/MapServer/export?dpi=96&transparent=true&format=png32&layers=show%3A1%2C2%2C3%2C5%2C6%2C7&bbox=-11713368.533619583%2C5349926.441082417%2C-11261778.57051098%2C5602780.130649659&bboxSR=102100&imageSR=4326&size=1477%2C827&f=image",renderer:{type:"heatmap",colorStops:[{color:"rgba(63, 40, 102, 0)",ratio:0},{color:"#472b77",ratio:.083},{color:"#4e2d87",ratio:.166},{color:"#563098",ratio:.249},{color:"#5d32a8",ratio:.332},{color:"#6735be",ratio:.415},{color:"#7139d4",ratio:.498},{color:"#7b3ce9",ratio:.581},{color:"#853fff",ratio:.664},{color:"#a46fbf",ratio:.747},{color:"#c29f80",ratio:.83},{color:"#e0cf40",ratio:.913},{color:"#ffff00",ratio:1}],maxPixelIntensity:25,minPixelIntensity:0},simplerRenderer:{type:"simple",symbol:{type:"picture-marker",url:"mtl.png",width:8,height:4}}}},mounted:function(){this.LoadDates(),this.LoadData(),this.cacheSnowDepth()},methods:{LoadData:function(){var e=this;l["a"].apiKey="AAPKfe0695aa5c18433e899f8170f7fb03d5LJ9EfdgSvRhqZaT2Ldm4cCPMrHxGha7GztsZ_hVGZ6BK5HOdGt5CxAqTWO71Qlmg",this.map=new u["a"]({basemap:"arcgis-imagery"}),this.view=new d["a"]({container:"viewDiv",map:this.map,center:[-103.780928,44.00853],zoom:9}),this.nfsmvum=new D["default"]({url:"./nfsmvum.geojson",outFields:["*"],opacity:.5,renderer:this.roadRender}),this.snowDepth=new f["default"]({opacity:.5,url:"https://mapservices.weather.noaa.gov/raster/rest/services/snow/NOHRSC_Snow_Analysis/MapServer"}),this.minesLayer=new D["default"]({url:"./mines.geojson",outFields:["*"],popupTemplate:this.createPopupTemplate(),renderer:{type:"unique-value",field:"Collapsed",defaultSymbol:this.createCustomMarkerSymbol(null),uniqueValueInfos:[{value:"true",symbol:this.createCustomMarkerSymbol(!0)},{value:"false",symbol:this.createCustomMarkerSymbol(!1)}]}}),this.cavesLayer=new D["default"]({url:"./caves.geojson",outFields:["*"],popupTemplate:this.createCavePopupTemplate(),renderer:{type:"unique-value",field:"Open",defaultSymbol:this.createCustomMarkerSymbol(null),uniqueValueInfos:[{value:"true",symbol:this.createCustomMarkerSymbol(!1)},{value:"false",symbol:this.createCustomMarkerSymbol(!0)}]}});var t=new m["a"]({x:-103.19455082423462,y:44.070438441736194}),a=!1;if(localStorage.getItem("snowDepthImage")){var n=localStorage.getItem("snowDepthImage");a=!0}var s={type:"picture-marker",url:a?n:this.imageUrl,width:1477,height:827},o=new b["a"]({geometry:t,symbol:s});this.graphicLayer=new p["a"]({graphics:[o],opacity:.5}),this.gfp=new v["default"]({opacity:.5,url:"https://tiles.arcgis.com/tiles/jWPBXspaQsJStWX8/arcgis/rest/services/Public_Lands/VectorTileServer"}),this.harvestLocations=new D["default"]({url:"./harvestLocations.geojson",renderer:this.showHeatmap?this.renderer:this.simplerRenderer}),localStorage.getItem("showGfp")?this.showGfp=JSON.parse(localStorage.getItem("showGfp")):localStorage.setItem("showGfp",this.showGfp),localStorage.getItem("showSnowDepth")?this.showSnowDepth=JSON.parse(localStorage.getItem("showSnowDepth")):localStorage.setItem("showSnowDepth",this.showSnowDepth),localStorage.getItem("showCachedSnowDepth")?this.showCachedSnowDepth=JSON.parse(localStorage.getItem("showCachedSnowDepth")):localStorage.setItem("showCachedSnowDepth",this.showCachedSnowDepth),localStorage.getItem("showHarvestLocations")?this.showHarvestLocations=JSON.parse(localStorage.getItem("showHarvestLocations")):localStorage.setItem("showHarvestLocations",this.showHarvestLocations),localStorage.getItem("showNfsmvum")?this.showNfsmvum=JSON.parse(localStorage.getItem("showNfsmvum")):localStorage.setItem("showNfsmvum",this.showNfsmvum),localStorage.getItem("showHeatmap")?this.showHeatmap=JSON.parse(localStorage.getItem("showHeatmap")):localStorage.setItem("showHeatmap",this.showHeatmap),this.showGfp&&this.map.add(this.gfp),this.showSnowDepth&&this.map.add(this.snowDepth),this.showCachedSnowDepth&&this.map.add(this.graphicLayer),this.map.add(this.minesLayer),this.map.add(this.cavesLayer),this.showNfsmvum&&(localStorage.getItem("fsFilter")&&(this.nfsmvum.definitionExpression=localStorage.getItem("fsFilter")),this.map.add(this.nfsmvum)),this.showHarvestLocations&&this.map.add(this.harvestLocations),this.AddDatePicker();var r={title:"<b>Name:</b> {NAME}",content:this.contentChange};this.nfsmvum.popupTemplate=r;var c=new y["a"]({view:this.view}),i=new k["a"]({view:this.view,popupOpenOnSelect:!1});this.view.ui.add(c,{position:"top-left"}),this.view.ui.add(i,{position:"top-right"});var h=new S["a"]({view:this.view,container:document.createElement("div")}),E=new g["a"]({view:this.view,content:h});h.watch("activeBasemap",(function(){var e="xsmall"===this.view.heightBreakpoint||"xsmall"===this.view.widthBreakpoint;e&&E.collapse()})),this.view.ui.add(E,"top-right"),e.loading=!1;var x=new w["a"]({view:this.view,layerInfos:[{layer:this.snowDepth}]});e.isMobile()||this.view.ui.add(x,"bottom-left");var O=this;this.view.watch("stationary",(function(e){1==e&&O.adjustMarker()}))},createCustomMarkerSymbol:function(e){var t;switch(e){case!0:t=[255,0,0];break;case!1:t=[0,255,0];break;default:t=[255,165,0];break}return{type:"simple-marker",style:"circle",color:t,size:10}},LoadDates:function(){var e=this;return Object(h["a"])(Object(i["a"])().mark((function t(){var a,n,s,o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e,n=0,s=!0,o=[];case 4:if(!s){t.next=9;break}return t.next=7,fetch("https://apps.fs.usda.gov/arcx/rest/services/EDW/EDW_MVUM_01/MapServer/1/query?where=1%3D1&text=&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=PASSENGERVEHICLE_DATESOPEN&returnGeometry=false&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=&having=&returnIdsOnly=false&returnCountOnly=false&orderByFields=PASSENGERVEHICLE_DATESOPEN&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&historicMoment=&returnDistinctValues=true&resultOffset="+n+"&resultRecordCount=&queryByDistance=&returnExtentOnly=false&datumTransformation=&parameterValues=&rangeValues=&quantizationParameters=&featureEncoding=esriDefault&f=pjson",{method:"GET"}).then((function(e){return 200===e.status||201===e.status?e.json():null})).then((function(e){e.exceededTransferLimit||(s=!1),n+=e.features.length,o=o.concat(e.features)})).catch((function(e){s=!1,console.log(e)}));case 7:t.next=4;break;case 9:0==o.length?a.extraParsing(JSON.parse(localStorage.getItem("fsData")),a):(localStorage.setItem("fsData",JSON.stringify(o)),a.extraParsing(o,a)),e.nfsmvum.definitionExpression=e.buildTypeStatement(new Date);case 11:case"end":return t.stop()}}),t)})))()},extraParsing:function(e,t){e.forEach((function(e){var a=e.attributes.PASSENGERVEHICLE_DATESOPEN;if(a)if(a.includes(",")){var n=a.split(",");n.forEach((function(e){t.parseDate(e,a)}))}else t.parseDate(a,a)}))},parseDate:function(e,t){var a=new Date;if(e&&e.includes("/")){var n=e.split("-"),s=n[0]+"/"+a.getFullYear(),o=n[1]+"/"+a.getFullYear(),r={StartDate:s,EndDate:o,FullString:t};this.roadOpenings.push(r)}},adjustMarker:function(){var e=this.view.toScreen({x:this.markerExtent.xmax,y:this.markerExtent.ymax,spatialReference:{wkid:4326}}),t=this.view.toScreen({x:this.markerExtent.xmin,y:this.markerExtent.ymin,spatialReference:{wkid:4326}}),a=Math.abs(e.x-t.x),n=Math.abs(t.y-e.y),s=!1;if(localStorage.getItem("snowDepthImage")){var o=localStorage.getItem("snowDepthImage");s=!0}this.graphicLayer.graphics.items[0].symbol={type:"picture-marker",url:s?o:this.imageUrl,width:a>0?a+"px":1,height:n>0?n+"px":1}},setFeatureLayerFilter:function(e){this.nfsmvum.definitionExpression="",this.nfsmvum.definitionExpression=e,localStorage.setItem("fsFilter",e)},AddDatePicker:function(){var e=this,t=new MutationObserver((function(t,a){var n=document.getElementById("date-picker");if(n){var s,o=new Date;o.setDate(o.getDate()),s=o.getFullYear()+"-"+("0"+(o.getMonth()+1)).slice(-2)+"-"+("0"+o.getDate()).slice(-2),n.value=s,n.defaultValue=s,n.addEventListener("change",(function(t){var a=new Date(t.target.value);e.updateYear(a);var n=e.buildTypeStatement(a);e.setFeatureLayerFilter(n)}))}}));t.observe(document,{childList:!0,subtree:!0})},buildTypeStatement:function(e){var t="";if(this.typeOfRoad&&this.typeOfRoad.length>0&&(t="(",this.typeOfRoad.forEach((function(e){t.length>1&&(t+=" or "),t+="SBS_SYMBOL_NAME = '"+e+"'"})),t+=")"),this.atv){t.length>0&&(t+=" and ");var a=this.buildWhereByType("ATV_DATESOPEN",e);t+="ATV = 'open' and "+a}if(this.bus){t.length>0&&(t+=" and ");var n=this.buildWhereByType("BUS_DATESOPEN",e);t+="BUS = 'open' and "+n}if(this.car){t.length>0&&(t+=" and ");var s=this.buildWhereByType("PASSENGERVEHICLE_DATESOPEN",e);t+="PASSENGERVEHICLE = 'open' and "+s}if(this.semi){t.length>0&&(t+=" and ");var o=this.buildWhereByType("TRUCK_DATESOPEN",e);t+="TRUCK = 'open' and "+o}return t},buildWhereByType:function(e,t){var a="(",n=this.roadOpenings.filter((function(e){return new Date(e.StartDate)<=t&&new Date(e.EndDate)>=t}));return n.forEach((function(t){a+=e+" = '"+t.FullString+"' or "})),a=a.slice(0,-3),a+=")",a},updateYear:function(e){this.roadOpenings.forEach((function(t){t.StartDate=t.StartDate.slice(0,-4)+e.getFullYear(),t.EndDate=t.EndDate.slice(0,-4)+e.getFullYear()}))},padTo2Digits:function(e){return e.toString().padStart(2,"0")},isMobile:function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},contentChange:function(){return"<b>Road Number: {FIELD_ID}</b>                                 <br><b>Miles: {GIS_MILES}</b>                                 <br><b>ATV: {ATV}</b>                                 <br><b>ATV Dates Open: {ATV_DATESOPEN}</b>                                 <br><b>Car: {PASSENGERVEHICLE}</b>                                 <br><b>Car Dates Open: {PASSENGERVEHICLE_DATESOPEN}</b>                                 <br><b>Bus: {BUS}</b>                                 <br><b>Bus Dates Open: {BUS_DATESOPEN}</b>                                 <br><b>Semi: {TRUCK}</b>                                 <br><b>Semi Dates Open: {TRUCK_DATESOPEN}</b>                                 <br><b>Road Type: {SURFACETYPE}</b>                                 <br><b>SBS_SYMBOL_NAME: {SBS_SYMBOL_NAME}</b>                                 <br><b>Difficulty: {OPERATIONALMAINTLEVEL}</b><br>"},cacheSnowDepth:function(){var e=this;if(localStorage.getItem("snowDepthDate"))this.snowDepthDate=localStorage.getItem("snowDepthDate");else{var t=new Date,a=new Date(t);a.setDate(a.getDate()-1),this.snowDepthDate=a}if(!this.isToday(this.snowDepthDate)){var n=new FileReader;n.onloadend=function(){var e=n.result;localStorage.setItem("snowDepthImage",e),localStorage.setItem("snowDepthDate",new Date),console.log(e)},Object(h["a"])(Object(i["a"])().mark((function t(){var a,s;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.imageUrl);case 2:return a=t.sent,t.next=5,a.blob();case 5:s=t.sent,n.readAsDataURL(s);case 7:case"end":return t.stop()}}),t)})))()}},isToday:function(e){var t=new Date;return e=new Date(e),e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},createPopupTemplate:function(){return{title:"{FTR_NAME}",content:"ID: {ID}<br/>Mine Type: {FTR_TYPE}<br/>Collapsed: {Collapsed}<br />{notes}"}},createCavePopupTemplate:function(){return{title:"{Name}",content:"ID: {ID}<br/>Open: {Open}<br />{notes}"}},exportToONX:function(){var e=this;return Object(h["a"])(Object(i["a"])().mark((function t(){var a,n,s,o,r,c;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("mines.geojson");case 3:return a=t.sent,t.next=6,a.json();case 6:return n=t.sent,t.next=9,fetch("caves.geojson");case 9:return s=t.sent,t.next=12,s.json();case 12:o=t.sent,r=x()(n),c=x()(o),e.downloadFile(c,"caves.gpx"),e.downloadFile(r,"mines.gpx"),t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](0),console.error("Error exporting to ONX:",t.t0);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})))()},downloadFile:function(e,t){var a=new Blob([e],{type:"application/gpx+xml"}),n=document.createElement("a");n.href=window.URL.createObjectURL(a),n.download=t,n.click()}},watch:{roadType:function(){var e=this;this.typeOfRoad=[],this.roadType.filter((function(e){return 1==e.checked})).forEach((function(t){e.typeOfRoad.push(t.value)}))},showGfp:function(){return localStorage.setItem("showGfp",JSON.stringify(this.showGfp)),this.showGfp&&null!=this.map?(this.map.add(this.gfp),!0):(this.map.remove(this.gfp),!1)},showNfsmvum:function(){return localStorage.setItem("showNfsmvum",JSON.stringify(this.showNfsmvum)),this.showNfsmvum&&null!=this.map?(this.map.add(this.nfsmvum),!0):(this.map.remove(this.nfsmvum),!1)},showMines:function(){return this.showMines&&null!=this.map?(this.map.add(this.minesLayer),!0):(this.map.remove(this.minesLayer),!1)},showCaves:function(){return this.showCaves&&null!=this.map?(this.map.add(this.cavesLayer),!0):(this.map.remove(this.cavesLayer),!1)},showSnowDepth:function(){return localStorage.setItem("showSnowDepth",JSON.stringify(this.showSnowDepth)),this.showSnowDepth&&null!=this.map?(this.map.add(this.snowDepth),!0):(this.map.remove(this.snowDepth),!1)},showHarvestLocations:function(){return localStorage.setItem("showHarvestLocations",JSON.stringify(this.showHarvestLocations)),this.showHarvestLocations&&null!=this.map?(this.map.add(this.harvestLocations),!0):(this.map.remove(this.harvestLocations),!1)},showCachedSnowDepth:function(){if(localStorage.setItem("showCachedSnowDepth",JSON.stringify(this.showCachedSnowDepth)),this.showCachedSnowDepth&&null!=this.map){var e=this.view.toScreen({x:this.markerExtent.xmax,y:this.markerExtent.ymax,spatialReference:{wkid:4326}}),t=this.view.toScreen({x:this.markerExtent.xmin,y:this.markerExtent.ymin,spatialReference:{wkid:4326}}),a=Math.abs(e.x-t.x),n=Math.abs(t.y-e.y),s=new m["a"]({x:-103.19455082423462,y:44.070438441736194}),o=!1;if(localStorage.getItem("snowDepthImage")){var r=localStorage.getItem("snowDepthImage");o=!0}var c={type:"picture-marker",url:o?r:this.imageUrl,width:a>0?a+"px":1,height:n>0?n+"px":1},i=new b["a"]({geometry:s,symbol:c});return this.graphicLayer=new p["a"]({graphics:[i],opacity:.5}),this.map.add(this.graphicLayer),!0}return this.map.remove(this.graphicLayer),!1},showHeatmap:function(){localStorage.setItem("showHeatmap",JSON.stringify(this.showHeatmap)),this.showHeatmap&&null!=this.map?this.harvestLocations.renderer=this.renderer:this.harvestLocations.renderer=this.simplerRenderer},selectedYears:function(){var e="(";this.selectedYears.forEach((function(t,a){0!==a&&(e+=" or "),e+="Year = '"+t+"'"})),e+=")",this.harvestLocations.definitionExpression=e},expand:function(){localStorage.setItem("expand",JSON.stringify(this.expand))},roadOpenings:function(){}},computed:{btnname:function(){return this.expand?"Collapse":"Expand"}}},T=N,M=(a("3d7b"),a("2877")),_=Object(M["a"])(T,r,c,!1,null,"13abc6d4",null),P=_.exports,R={name:"App",components:{Map:P}},A=R,H=Object(M["a"])(A,s,o,!1,null,null,null),j=H.exports,F=a("ce5b"),G=a.n(F);a("bf40");n["default"].use(G.a);var B={},V=new G.a(B),Y=(a("c73d"),a("9483"));Object(Y["a"])("".concat("/BHMTNLION/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var U=["https://apps.fs.usda.gov/fsgisx05/rest/services/wo_nfs_gtac/GTAC_IVMQuery_01/MapServer/1?f=json","https://idpgis.ncep.noaa.gov/arcgis/rest/services/NWS_Observations/NOHRSC_Snow_Analysis/MapServer?f=json","https://apps.fs.usda.gov/fsgisx05/rest/services/wo_nfs_gtac/GTAC_IVMQuery_01/MapServer/1/query?where=1%3D1&text=&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=PASSENGERVEHICLE_DATESOPEN&returnGeometry=false&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=&having=&returnIdsOnly=false&returnCountOnly=false&orderByFields=PASSENGERVEHICLE_DATESOPEN&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&historicMoment=&returnDistinctValues=true&resultOffset=&resultRecordCount=&queryByDistance=&returnExtentOnly=false&datumTransformation=&parameterValues=&rangeValues=&quantizationParameters=&featureEncoding=esriDefault&f=pjson"],J="bhmtnlion";self.addEventListener("install",(function(e){e.waitUntil(caches.open(J).then((function(e){return e.addAll(U)})))})),n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(j)},vuetify:V}).$mount("#app")},b9c5:function(e,t,a){},bc66:function(e,t){function a(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id="bc66"}});
//# sourceMappingURL=app.a5427f52.js.map